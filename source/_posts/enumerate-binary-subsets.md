---
title: 使用位运算枚举二进制子集的巧妙方法
date: 2022-09-18 19:12:11
tags: [二进制, 位运算, 枚举子集]
category: 笔记
---

今天发现了一个使用位运算枚举二进制子集的风骚方法，特记录一下：

## 枚举子集

设 $s$ 为要被枚举的集合：

```cpp
for(int i=s;i;i=(i-1)&s)
    cout<<bitset<4>(i)<<endl;
```

当 $s=7=(111)_2$ 时，上述代码的运行结果为：

```txt
0111
0110
0101
0100
0011
0010
0001
```

枚举出的结果是递减的。

## 枚举固定大小的子集

设 $n$ 为集合大小，$m$ 为要枚举的子集大小：

```cpp
for(int i=(1<<m)-1,x,y;i<(1<<n);x=i&-i,y=i+x,i=((i&~y)/x>>1)|y)
    cout<<bitset<4>(i)<<endl;
```

当 $n=4,m=2$ 时，上述代码的运行结果为：

```txt
0011
0101
0110
1001
1010
1100
```

枚举出的结果是递增的。

## 评语

太 TM 骚了……
